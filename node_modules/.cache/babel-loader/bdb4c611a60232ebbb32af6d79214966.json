{"ast":null,"code":"import _toConsumableArray from\"/home/pedro/projects/challenge-mission-brasil/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _classCallCheck from\"/home/pedro/projects/challenge-mission-brasil/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/pedro/projects/challenge-mission-brasil/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/home/pedro/projects/challenge-mission-brasil/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/home/pedro/projects/challenge-mission-brasil/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/pedro/projects/challenge-mission-brasil/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import{Formik,Form,Field,ErrorMessage}from\"formik\";import*as Yup from\"yup\";import{BiStore,BiDollar}from\"react-icons/bi\";import\"./index.scss\";var CadastroProduto=/*#__PURE__*/function(_Component){_inherits(CadastroProduto,_Component);var _super=_createSuper(CadastroProduto);function CadastroProduto(){var _this;_classCallCheck(this,CadastroProduto);_this=_super.call(this);_this.state={data:[]};_this.handleSendProduct=_this.handleSendProduct.bind(_assertThisInitialized(_this));return _this;}_createClass(CadastroProduto,[{key:\"handleSendProduct\",value:function handleSendProduct(){var products=this.state.data;this.props.history.push({pathname:process.env.PUBLIC_URL+\"/listaproduto\",search:\"\",list:{products:products}});}},{key:\"render\",value:function render(){var _this2=this;return/*#__PURE__*/React.createElement(\"div\",{className:\"container\"},/*#__PURE__*/React.createElement(\"h1\",null,\" Cadastro de Produtos\"),/*#__PURE__*/React.createElement(\"div\",{className:\"content-home\"},/*#__PURE__*/React.createElement(Formik//\n//Define os valores inicias de cada campo\n,{initialValues:{nameProduct:\"\",price:\"\"}//\n//valida os campos obrigatórios\n,validationSchema:Yup.object().shape({nameProduct:Yup.string().required(\"Nome do produto obrigatório\"),price:Yup.string().min(2,\"O valor deve ser maior que 00,01\")//.max(4, \"O valor não pode ser maior que 99,99\")\n.required(\"O preço do produto é obrigatório\")})//\n//Formata e envia os dados do formulario pro estado data\n,onSubmit:function onSubmit(fields){var name=fields.nameProduct;var price=fields.price;_this2.setState({data:[].concat(_toConsumableArray(_this2.state.data),[{name:name,price:price}])});alert(\"Produto adicionado com sucesso\");}},function(_ref){var props=_ref.props,errors=_ref.errors,touched=_ref.touched;return/*#__PURE__*/React.createElement(Form,null,/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"nameProduct\"},\"Nome do Produto \",/*#__PURE__*/React.createElement(BiStore,null)),/*#__PURE__*/React.createElement(Field,{mask:\"99/99\",name:\"nameProduct\",type:\"text\",className:\"form-control\"+(errors.nameProduct&&touched.nameProduct?\" is-invalid\":\"\")}),/*#__PURE__*/React.createElement(ErrorMessage,{name:\"nameProduct\",component:\"div\",className:\"invalid-feedback\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"price\"},\"Pre\\xE7o do Produto \",/*#__PURE__*/React.createElement(BiDollar,null)),/*#__PURE__*/React.createElement(Field,{name:\"price\",type:\"number\",className:\"form-control\"+(errors.price&&touched.price?\" is-invalid\":\"\")}),/*#__PURE__*/React.createElement(ErrorMessage,{name:\"price\",component:\"div\",className:\"invalid-feedback\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"group-button\"},/*#__PURE__*/React.createElement(\"button\",{type:\"submit\",className:\"btn btn-primary mr-2\"},\"Adicionar Produto\"),/*#__PURE__*/React.createElement(\"button\",{type:\"reset\",className:\"btn btn-secondary\"},\"Limpar\"),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"small\",null,/*#__PURE__*/React.createElement(\"a\",{onClick:_this2.handleSendProduct},\"Ir para lista de produtos\")))));})));}}]);return CadastroProduto;}(Component);export default CadastroProduto;","map":{"version":3,"sources":["/home/pedro/projects/challenge-mission-brasil/src/pages/cadastroProduto/index.js"],"names":["React","Component","Formik","Form","Field","ErrorMessage","Yup","BiStore","BiDollar","CadastroProduto","state","data","handleSendProduct","bind","products","props","history","push","pathname","process","env","PUBLIC_URL","search","list","nameProduct","price","object","shape","string","required","min","fields","name","setState","alert","errors","touched"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { Formik, Form, Field, ErrorMessage } from \"formik\";\nimport * as Yup from \"yup\";\n\nimport { BiStore, BiDollar } from \"react-icons/bi\";\nimport \"./index.scss\";\nclass CadastroProduto extends Component {\n  constructor() {\n    super();\n    this.state = {\n      data: [],\n    };\n    this.handleSendProduct = this.handleSendProduct.bind(this);\n  }\n\n  handleSendProduct() {\n    let products = this.state.data;\n    this.props.history.push({\n      pathname: process.env.PUBLIC_URL + `/listaproduto`,\n      search: \"\",\n      list: { products },\n    });\n  }\n  render() {\n    return (\n      <div className={\"container\"}>\n        <h1> Cadastro de Produtos</h1>\n        <div className={\"content-home\"}>\n          <Formik\n            //\n            //Define os valores inicias de cada campo\n\n            initialValues={{\n              nameProduct: \"\",\n              price: \"\",\n            }}\n            //\n            //valida os campos obrigatórios\n\n            validationSchema={Yup.object().shape({\n              nameProduct: Yup.string().required(\"Nome do produto obrigatório\"),\n\n              price: Yup.string()\n                .min(2, \"O valor deve ser maior que 00,01\")\n                //.max(4, \"O valor não pode ser maior que 99,99\")\n                .required(\"O preço do produto é obrigatório\"),\n            })}\n            //\n            //Formata e envia os dados do formulario pro estado data\n\n            onSubmit={(fields) => {\n              let name = fields.nameProduct;\n              let price = fields.price;\n              this.setState({\n                data: [...this.state.data, { name: name, price: price }],\n              });\n\n              alert(\"Produto adicionado com sucesso\");\n            }}\n          >\n            {({ props, errors, touched }) => (\n              <Form>\n                <div className=\"form-group\">\n                  <label htmlFor=\"nameProduct\">\n                    Nome do Produto <BiStore />\n                  </label>\n                  <Field\n                    mask={\"99/99\"}\n                    name=\"nameProduct\"\n                    type=\"text\"\n                    className={\n                      \"form-control\" +\n                      (errors.nameProduct && touched.nameProduct\n                        ? \" is-invalid\"\n                        : \"\")\n                    }\n                  />\n                  <ErrorMessage\n                    name=\"nameProduct\"\n                    component=\"div\"\n                    className=\"invalid-feedback\"\n                  />\n                </div>\n\n                <div className=\"form-group\">\n                  <label htmlFor=\"price\">\n                    Preço do Produto <BiDollar />\n                  </label>\n                  <Field\n                    name=\"price\"\n                    type=\"number\"\n                    className={\n                      \"form-control\" +\n                      (errors.price && touched.price ? \" is-invalid\" : \"\")\n                    }\n                  />\n                  <ErrorMessage\n                    name=\"price\"\n                    component=\"div\"\n                    className=\"invalid-feedback\"\n                  />\n                </div>\n\n                <div className=\"group-button\">\n                  <button type=\"submit\" className=\"btn btn-primary mr-2\">\n                    Adicionar Produto\n                  </button>\n                  <button type=\"reset\" className=\"btn btn-secondary\">\n                    Limpar\n                  </button>\n                  <div>\n                    <small>\n                      <a onClick={this.handleSendProduct}>\n                        Ir para lista de produtos\n                      </a>\n                    </small>\n                  </div>\n                </div>\n              </Form>\n            )}\n          </Formik>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default CadastroProduto;\n"]},"metadata":{},"sourceType":"module"}